STEP 1 â€” Open Ubuntu (WSL)

Open the Ubuntu app from Start Menu.

âœ… STEP 2 â€” Install flex + gcc (only once)

If already installed, skip.

sudo apt update
sudo apt install flex
sudo apt install gcc


Verify:

flex --version
gcc --version

âœ… STEP 3 â€” Create your Lex file
nano lexanalysis.l

âœ… STEP 4 â€” Paste this FULL WORKING CODE

(Your code is almost correct â€” I added yywrap() so it works on all systems.)

%{
    #include <stdio.h>
%}

%%

/* Flow-control keywords (case-insensitive) */
if|else|while|do|switch|case|break|for|default
|IF|ELSE|WHILE|DO|SWITCH|CASE|BREAK|FOR|DEFAULT       { printf("Keyword\n"); }

/* Identifier */
[A-Za-z_][A-Za-z0-9_]*                                { printf("identifier\n"); }

/* Ignore whitespace */
[ \t\n]+                                              { /* skip */ }

/* Anything else is invalid */
.                                                     { printf("invalid\n"); }

%%

int yywrap() {
    return 1;
}

int main()
{
    yylex();
    return 0;
}

âœ… STEP 5 â€” Save file

Inside nano:

Ctrl + O
ENTER
Ctrl + X


Check:

ls


You should see:

lexanalysis.l

âœ… STEP 6 â€” Run flex
flex lexanalysis.l


This generates:

lex.yy.c

âœ… STEP 7 â€” Compile with GCC

Either one works:

âœ” Recommended:

gcc lex.yy.c -lfl -o lexanalysis


OR, since we included yywrap():

gcc lex.yy.c -o lexanalysis


No errors â†’ success.

âœ… STEP 8 â€” Run the program
./lexanalysis


Now enter:

If


Output:

Keyword


Enter:

FOR


Output:

Keyword


Enter:

Abc123_def


Output:

identifier


Enter:

123abc


Output:

invalid

ðŸŽ‰ Your Lex program works successfully in WSL Ubuntu.
