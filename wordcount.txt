STEP 1 â€” Open Ubuntu (WSL)

Open the Ubuntu app on Windows.

âœ… STEP 2 â€” Install flex + gcc (only once)
sudo apt update
sudo apt install flex
sudo apt install gcc

âœ… STEP 3 â€” Create your Lex file
nano wordcount.l

âœ… STEP 4 â€” Paste the FULL WORKING CODE

Paste using Shift + Ctrl + V:

%{
#include <stdio.h>

int wordCount = 0;
int lineCount = 0;
%}

%%

\n              { lineCount++; }
[ \t]+          { /* ignore spaces/tabs */ }
[a-zA-Z0-9_]+   { wordCount++; }
.               { /* ignore all other characters */ }

%%

int yywrap() { return 1; }

int main() {
    printf("Enter text:\n");
    yylex();
    printf("\nTotal Lines : %d\n", lineCount);
    printf("Total Words : %d\n", wordCount);
    return 0;
}


âœ” Added yywrap() â†’ required
âœ” Added "Enter text:" prompt
âœ” Everything works in WSL

âœ… STEP 5 â€” Save the file
Ctrl + O
ENTER
Ctrl + X


Check with:

ls

âœ… STEP 6 â€” Run flex
flex wordcount.l


This generates:

lex.yy.c

âœ… STEP 7 â€” Compile with gcc

Either works:

gcc lex.yy.c -lfl -o wordcount


or

gcc lex.yy.c -o wordcount


(because we defined yywrap)

No errors â†’ GOOD.

âœ… STEP 8 â€” Run your wordcount program
./wordcount


It prints:

Enter text:


Now type:

Hello world
This is a test


Then press:

ðŸ‘‰ Ctrl + D (this ends input in Linux)
ðŸŽ‰ EXPECTED OUTPUT
Enter text:
Hello world
This is a test
^D

Total Lines : 2
Total Words : 6
